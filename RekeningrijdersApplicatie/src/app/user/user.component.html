<div class="container shadow">
    <h2>{{ "mydata" | translate }}</h2>
</div>
<div class="container shadow">
    <div class="row">
        <span class="fas fa-user-circle" title="{{ 'username' | translate }}"></span>
        {{user.username}}
    </div>
    <div class="row">
        <span class="fas fa-envelope" title="{{ 'email' | translate }}"></span>
        {{user.email}}
    </div>
    <div class="row">
        <span class="fas fa-home" title="{{ 'address' | translate }}"></span>
        {{user.address}}
    </div>
    <div class="row" style="display:flex">
        <div class="col">
            <button class="btn btn-danger" style="float: right;" data-toggle="modal" data-target="#editModal">{{ "edit" | translate }}</button>
        </div>
    </div>
</div>

<div id="editModal" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ "edit" | translate }}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col">
                        <label for="">{{ 'email' | translate }}</label>
                    </div>
                    <div class="col">
                        <input name="email" id="email" type="email" class="form-control" [(ngModel)]="userData.email" placeholder="{{ 'email' | translate }}"
                            required autofocus #email="ngModel">

                        <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
                            <div *ngIf="email.errors.required">
                                {{ 'fieldrequired' | translate }}
                            </div>
                            <div *ngIf="email.errors.email">
                                {{ 'emailinvalid' | translate }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="">{{ 'address' | translate }}</label>
                    </div>
                    <div class="col">
                        <input name="address" id="address" type="text" class="form-control" [(ngModel)]="userData.address" placeholder="{{ 'address' | translate }}"
                            required #address="ngModel">

                        <div *ngIf="address.invalid && (address.dirty || address.touched)" class="alert alert-danger">
                            <div *ngIf="address.errors.required">
                                {{ 'fieldrequired' | translate }}
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col">
                        <label for="">{{ 'oldpassword' | translate }}</label>
                    </div>
                    <div class="col">
                        <input name="password" id="oldPassword" type="password" class="form-control" [(ngModel)]="userData.oldPassword" placeholder="{{ 'oldpassword' | translate }}">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="">{{ 'newpassword' | translate }}</label>
                    </div>
                    <div class="col">
                        <input name="password" id="newPassword" type="password" class="form-control" [(ngModel)]="userData.newPassword" placeholder="{{ 'newpassword' | translate }}"
                            #newPassword="ngModel">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="">{{ 'repeatpassword' | translate }}</label>
                    </div>
                    <div class="col">
                        <input name="password" id="repNewPassword" type="password" class="form-control" [(ngModel)]="userData.repNewPassword" placeholder="{{ 'repeatpassword' | translate }}"
                            validateEqual="newPassword" #repNewPassword="ngModel">

                        <div *ngIf="repNewPassword.invalid && (repNewPassword.dirty || repNewPassword.touched)" class="alert alert-danger">
                            <div *ngIf="!repNewPassword.errors.validateEqual">
                                {{ 'passwordnomatch' | translate }}
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngFor="let alert of passwordAlerts" class="alert alert-danger">
                    {{ alert | translate }}
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="resetData()">{{ "cancel" | translate }}</button>
                <button type="button" class="btn btn-danger" (click)="saveData()">{{ "save" | translate }}</button>
            </div>
        </div>
    </div>
</div>